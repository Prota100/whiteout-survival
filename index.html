<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, maximum-scale=1.0">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Whiteout Survival - í™”ì´íŠ¸ì•„ì›ƒ ì„œë°”ì´ë²Œ</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body {
  width: 100%; height: 100vh; height: 100dvh;
  overflow: hidden; overscroll-behavior: none;
  touch-action: none; -webkit-touch-callout: none;
  -webkit-user-select: none; user-select: none;
  position: fixed; top: 0; left: 0;
}
body { background: #1a1a2e; }
#game-container {
  position: relative;
  width: 100vw; height: 100vh; height: 100dvh;
  overflow: hidden;
}
canvas { display: block; position: absolute; top: 0; left: 0; }

/* â•â•â• DOM UI OVERLAY â•â•â• */
#ui-overlay {
  position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  z-index: 10; pointer-events: none;
}
#bottom-buttons {
  position: absolute;
  bottom: calc(12px + env(safe-area-inset-bottom, 0px));
  left: 0; right: 0;
  display: flex; justify-content: center; gap: 5px;
  padding: 0 8px;
  pointer-events: none;
  z-index: 50;
}
#dom-hud { z-index: 20; }
#joystick-zone { z-index: 5; }
#bottom-buttons button {
  pointer-events: auto;
  background: rgba(20, 20, 50, 0.88);
  color: #fff; border: 1.5px solid rgba(100, 120, 200, 0.4);
  border-radius: 8px;
  font-family: monospace; font-size: 14px;
  padding: 9px 12px;
  cursor: pointer;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
  transition: background 0.1s;
}
#bottom-buttons button:active {
  background: rgba(60, 60, 120, 0.95);
  border-color: rgba(140, 160, 255, 0.7);
}
@media (max-width: 420px) {
  #bottom-buttons button { font-size: 12px; padding: 7px 8px; }
}
@media (max-width: 360px) {
  #bottom-buttons button { font-size: 11px; padding: 6px 6px; }
}

.sbar { display:flex; align-items:center; gap:4px; margin:1px 0; }
.bar-c { width:140px; height:12px; background:rgba(17,17,34,0.85); border-radius:3px; border:1px solid rgba(51,68,102,0.5); overflow:hidden; }
.bar-f { height:100%; border-radius:2px; transition:width 0.3s ease; }
.bar-t { font-family:monospace; font-size:10px; color:#fff; text-shadow:0 0 2px #000; white-space:nowrap; }
</style>
</head>
<body>
<div id="game-container">
  <div id="ui-overlay">
    <!-- ìƒë‹¨ DOM HUD -->
    <div id="dom-hud" style="position:absolute;top:calc(6px + env(safe-area-inset-top,0px));left:8px;pointer-events:none;z-index:20;">
      <div id="resource-bar" style="background:rgba(10,10,30,0.75);border-radius:8px;padding:5px 10px;color:#fff;font-family:monospace;font-size:13px;max-width:260px;margin-bottom:2px;">
        <span id="res-text">ğŸ¥©0 ğŸªµ0 ğŸª¨0 ğŸ’°0</span>
      </div>
      <div style="max-width:260px;">
        <div class="sbar"><span style="font-size:11px">â¤ï¸</span><div class="bar-c"><div class="bar-f" id="hp-fill" style="width:100%;background:#4CAF50"></div></div><span class="bar-t" id="hp-text">100/100</span></div>
        <div class="sbar"><span style="font-size:11px">ğŸŒ¡ï¸</span><div class="bar-c"><div class="bar-f" id="temp-fill" style="width:100%;background:#42A5F5"></div></div><span class="bar-t" id="temp-text">100%</span></div>
        <div class="sbar"><span style="font-size:11px">ğŸ–</span><div class="bar-c"><div class="bar-f" id="hunger-fill" style="width:100%;background:#FF9800"></div></div><span class="bar-t" id="hunger-text">100%</span></div>
      </div>
      <div id="quest-text" style="font-family:monospace;font-size:11px;color:#FFD700;text-shadow:0 0 3px #000,0 0 3px #000;margin-top:2px;max-width:220px;"></div>
      <div id="buff-text" style="font-family:monospace;font-size:10px;color:#FF8844;text-shadow:0 0 3px #000;display:none;">ğŸ”¥ í™”ë• ë²„í”„</div>
    </div>

    <div id="bottom-buttons">
      <button id="btn-build" ontouchstart="">ğŸ”¥ê±´ì„¤</button>
      <button id="btn-craft" ontouchstart="">ğŸ”¨ì œì‘</button>
      <button id="btn-hire" ontouchstart="">ğŸ‘¥ê³ ìš©</button>
      <button id="btn-eat" ontouchstart="">ğŸ¥©ë¨¹ê¸°</button>
      <button id="btn-sound" ontouchstart="">ğŸ”Š</button>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
<script>
var GV="ultimate-014-phase4-upgrades";if(localStorage.getItem('gv')!==GV){localStorage.clear();sessionStorage.clear();localStorage.setItem('gv',GV);}
if('serviceWorker' in navigator)navigator.serviceWorker.getRegistrations().then(function(r){r.forEach(function(g){g.unregister();});});
if('caches' in window)caches.keys().then(function(n){n.forEach(function(k){caches.delete(k);});});
</script>
<script src="game.js?v=20250220-phase4-014"></script>
</body>
</html>
