<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, maximum-scale=1.0">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>í™”ì´íŠ¸ì•„ì›ƒ ì„œë°”ì´ë²Œ</title>
<meta property="og:title" content="í™”ì´íŠ¸ì•„ì›ƒ ì„œë°”ì´ë²Œ">
<meta property="og:description" content="ê·¹í•œì˜ ì„¤ì›ì—ì„œ ì‚´ì•„ë‚¨ì•„ë¼! 5ê°€ì§€ í´ë˜ìŠ¤, 40+ì¢… ì—…ê·¸ë ˆì´ë“œ, ë³´ìŠ¤ ëŸ¬ì‹œ ë“± ë‹¤ì–‘í•œ ëª¨ë“œ.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://prota100.github.io/whiteout-survival/">
<meta property="og:image" content="https://prota100.github.io/whiteout-survival/thumbnail.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="description" content="1ì‹œê°„ ìƒì¡´ ì›¹ ê²Œì„ - í™”ì´íŠ¸ì•„ì›ƒ ì„œë°”ì´ë²Œ. 5ê°€ì§€ í´ë˜ìŠ¤, 40+ì¢… ì—…ê·¸ë ˆì´ë“œ, ë³´ìŠ¤ ëŸ¬ì‹œ ë“± ë‹¤ì–‘í•œ ëª¨ë“œ.">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body {
  width: 100%; height: 100vh; height: 100dvh;
  overflow: hidden; overscroll-behavior: none;
  touch-action: none; -webkit-touch-callout: none;
  -webkit-user-select: none; user-select: none;
  position: fixed; top: 0; left: 0;
}
body { background: #0A0E1A; }
#game-container {
  position: relative;
  width: 100vw; height: 100vh; height: 100dvh;
  overflow: hidden;
}
canvas { display: block; position: absolute; top: 0; left: 0; }

/* â•â•â• Habby ìŠ¤íƒ€ì¼ ìƒ‰ìƒ ì‹œìŠ¤í…œ â•â•â• */
:root {
  --bg-primary: #0A0E1A;
  --bg-panel: rgba(10,14,26,0.92);
  --cta-orange: #FF6B35;
  --cta-orange-glow: rgba(255,107,53,0.4);
  --grade-common: #9E9E9E;
  --grade-uncommon: #4CAF50;
  --grade-rare: #2196F3;
  --grade-epic: #9C27B0;
  --grade-legend: #FF9800;
}

/* â•â•â• DOM UI OVERLAY â•â•â• */
#ui-overlay {
  position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  z-index: 10; pointer-events: none;
}
#bottom-buttons {
  position: absolute;
  bottom: calc(14px + env(safe-area-inset-bottom, 0px));
  left: 0; right: 0;
  display: flex; justify-content: center; gap: 8px;
  padding: 0 12px;
  pointer-events: none;
  z-index: 50;
}
#dom-hud { z-index: 20; }
#joystick-zone { z-index: 5; }

/* â•â•â• ë²„íŠ¼ ìŠ¤íƒ€ì¼ (Habby) â•â•â• */
#bottom-buttons button {
  pointer-events: auto;
  color: #fff; border: none;
  border-radius: 12px;
  font-family: monospace; font-size: 13px; font-weight: 700;
  padding: 10px 14px;
  min-height: 52px; min-width: 52px;
  cursor: pointer;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
  transition: transform 0.1s, box-shadow 0.1s;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2px;
}
/* CTA ì£¼ìš” ë²„íŠ¼ (ê±´ì„¤, ì œì‘) */
#btn-build, #btn-craft {
  background: linear-gradient(180deg, #FF8C42, #E65100);
  box-shadow: 0 4px 12px var(--cta-orange-glow), inset 0 1px 0 rgba(255,255,255,0.2);
  min-width: 64px; min-height: 58px;
}
/* ë³´ì¡° ë²„íŠ¼ */
#btn-hire, #btn-inv, #btn-eat {
  background: linear-gradient(180deg, rgba(30,40,70,0.9), rgba(20,30,55,0.95));
  border: 1.5px solid rgba(100,140,220,0.3);
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}
/* ìœ í‹¸ ë²„íŠ¼ */
#btn-sound {
  background: rgba(20,25,45,0.7);
  border: 1px solid rgba(80,100,160,0.2);
  font-size: 18px;
  min-width: 44px; min-height: 44px;
}
#bottom-buttons button:active {
  transform: scale(0.92) !important;
  box-shadow: none !important;
}
@keyframes btn-bounce {
  0% { transform: scale(1); }
  30% { transform: scale(0.9); }
  60% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
.btn-bouncing { animation: btn-bounce 0.25s ease; }

@media (max-width: 420px) {
  #bottom-buttons button { font-size: 12px; padding: 8px 10px; }
  #btn-build, #btn-craft { min-width: 56px; min-height: 52px; }
}
@media (max-width: 360px) {
  #bottom-buttons button { font-size: 11px; padding: 6px 8px; }
}

/* â•â•â• HUD ë°” (Habby ìŠ¤íƒ€ì¼: ë‘êº¼ìš´ ê·¸ë¼ë°ì´ì…˜) â•â•â• */
.sbar { display:flex; align-items:center; gap:5px; margin:2px 0; }
.bar-c { width:150px; height:16px; background:rgba(10,14,26,0.9); border-radius:8px; border:2px solid rgba(255,255,255,0.15); overflow:hidden; box-shadow: inset 0 2px 4px rgba(0,0,0,0.5); }
.bar-f { height:100%; border-radius:6px; transition:width 0.3s ease, background 0.3s; }
.bar-t { font-family:monospace; font-size:12px; color:#fff; text-shadow:0 1px 3px rgba(0,0,0,0.8); white-space:nowrap; font-weight:bold; }

/* â•â•â• HP ë°” ê·¸ë¼ë°ì´ì…˜ â•â•â• */
#hp-fill { background: linear-gradient(180deg, #EF5350, #C62828) !important; }
#hp-fill.hp-safe { background: linear-gradient(180deg, #66BB6A, #388E3C) !important; }
#hp-fill.hp-warn { background: linear-gradient(180deg, #FFCA28, #F9A825) !important; }
#hp-fill.hp-danger { background: linear-gradient(180deg, #EF5350, #C62828) !important; animation: bar-danger-pulse 0.8s ease-in-out infinite; }

/* â•â•â• ì˜¨ë„ ë°” ë¹™í•˜ ê·¸ë¼ë°ì´ì…˜ â•â•â• */
#temp-fill { background: linear-gradient(90deg, #80DEEA, #26C6DA) !important; }
#temp-fill.temp-warn { background: linear-gradient(90deg, #42A5F5, #1E88E5) !important; }
#temp-fill.temp-danger { background: linear-gradient(90deg, #EF5350, #C62828) !important; animation: bar-danger-pulse 0.6s ease-in-out infinite; }

/* â•â•â• XP ë°” pulse (ë ˆë²¨ì—… ì§ì „) â•â•â• */
#xp-fill { background: linear-gradient(90deg, #42A5F5, #90CAF9) !important; }
#xp-fill.xp-near-levelup { animation: xp-pulse 0.5s ease-in-out infinite; }
@keyframes xp-pulse {
  0%, 100% { opacity: 1; filter: brightness(1); }
  50% { opacity: 0.7; filter: brightness(1.5); }
}

@keyframes bar-danger-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

@keyframes event-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
@keyframes event-pulse-fast {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}
@keyframes skill-ready-pulse {
  0%, 100% { box-shadow: 0 0 4px rgba(255,255,100,0.4); border-color: #FFD700; }
  50% { box-shadow: 0 0 12px rgba(255,255,100,0.8); border-color: #FFFF44; }
}
/* â•â•â• HUD í…ìŠ¤íŠ¸ ê°•í™” â•â•â• */
#dom-hud span, #dom-hud div {
  font-weight: bold !important;
  text-shadow: 0 1px 3px rgba(0,0,0,0.8), 0 0 6px rgba(0,0,0,0.4) !important;
}

/* â•â•â• í•œíŒŒ ê²½ê³  í„ìŠ¤ â•â•â• */
@keyframes blizzard-pulse {
  0%, 100% { box-shadow: 0 0 10px rgba(68,136,255,0.3); }
  50% { box-shadow: 0 0 25px rgba(68,136,255,0.7); transform: translateX(-50%) scale(1.02); }
}
/* â•â•â• Mobile Layout Optimization â•â•â• */
@media (max-width: 767px) {
  .bar-t { font-size: 10px !important; }
  #resource-bar { font-size: 11px !important; padding: 3px 7px !important; }
  #act-text, #class-hud, #zone-indicator { font-size: 10px !important; }
  #next-event-text { font-size: 9px !important; }
  #quest-text { font-size: 9px !important; }
  #xp-text { font-size: 9px !important; }
  #buff-text { font-size: 9px !important; }
  #timeline-bar { height: 3px !important; }
  #timeline-bar div[style*="height:5px"] { height: 3px !important; }
  #dom-hud { top: calc(3px + env(safe-area-inset-top, 0px)) !important; left: 5px !important; }
  #dom-hud .sbar { margin-bottom: 0px; }
  #blizzard-warning { font-size: 12px !important; padding: 5px 14px !important; top: 5px !important; }
  #blizzard-active { font-size: 11px !important; padding: 4px 12px !important; }
  #bottom-buttons button { font-size: 10px !important; padding: 6px 8px !important; }
  #class-skill-cd { width: 24px !important; height: 24px !important; line-height: 24px !important; font-size: 10px !important; }
}
</style>
</head>
<body>
<div id="game-container">
  <div id="blizzard-warning" style="display:none;position:fixed;top:10px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,rgba(0,80,180,0.9),rgba(0,50,150,0.95));color:#fff;padding:8px 20px;border-radius:12px;font-size:15px;font-weight:bold;text-align:center;z-index:100;border:2px solid #4488FF;animation:blizzard-pulse 1.5s ease-in-out infinite;backdrop-filter:blur(4px);">
    â„ï¸ í•œíŒŒê¹Œì§€ <span id="blizzard-countdown">60</span>ì´ˆ
  </div>
  <div id="blizzard-active" style="display:none;position:fixed;top:10px;left:50%;transform:translateX(-50%);background:rgba(0,50,150,0.9);color:#88CCFF;padding:6px 16px;border-radius:8px;font-size:14px;font-weight:bold;text-align:center;z-index:100;border:1px solid #88CCFF;">
    â„ï¸ í•œíŒŒ ì§„í–‰ ì¤‘! í™”ë• ê·¼ì²˜ë¡œ!
  </div>
  <!-- Timeline Progress Bar -->
  <div id="timeline-bar" style="display:none;position:fixed;top:0;left:0;width:100%;height:5px;background:rgba(0,0,0,0.4);z-index:25;pointer-events:none;">
    <div id="timeline-fill" style="height:100%;width:0%;background:#44BB44;transition:width 0.5s,background 0.5s;"></div>
    <div id="timeline-markers" style="position:absolute;top:0;left:0;width:100%;height:100%;">
      <div style="position:absolute;left:20%;top:0;width:1px;height:5px;background:rgba(255,255,255,0.5);"></div>
      <div style="position:absolute;left:41.67%;top:0;width:1px;height:5px;background:rgba(255,255,255,0.5);"></div>
      <div style="position:absolute;left:66.67%;top:0;width:1px;height:5px;background:rgba(255,255,255,0.5);"></div>
      <div style="position:absolute;left:91.67%;top:0;width:1px;height:5px;background:rgba(255,255,255,0.5);"></div>
    </div>
  </div>
  <div id="ui-overlay">
    <!-- ìƒë‹¨ DOM HUD -->
    <div id="dom-hud" style="position:absolute;top:calc(6px + env(safe-area-inset-top,0px));left:8px;pointer-events:none;z-index:20;">
      <div id="resource-bar" style="background:rgba(10,10,30,0.75);border-radius:8px;padding:5px 10px;color:#fff;font-family:monospace;font-size:13px;max-width:260px;margin-bottom:2px;">
        <span id="res-text">ğŸ¥©0 ğŸªµ0 ğŸª¨0 ğŸ’°0</span>
      </div>
      <div style="max-width:260px;">
        <div class="sbar"><span style="font-size:11px">â¤ï¸</span><div class="bar-c"><div class="bar-f" id="hp-fill" style="width:100%;background:#4CAF50"></div></div><span class="bar-t" id="hp-text">100/100</span></div>
        <div class="sbar"><span style="font-size:11px">ğŸŒ¡ï¸</span><div class="bar-c"><div class="bar-f" id="temp-fill" style="width:100%;background:#42A5F5"></div></div><span class="bar-t" id="temp-text">100%</span></div>
        <div class="sbar"><span style="font-size:11px">ğŸ–</span><div class="bar-c"><div class="bar-f" id="hunger-fill" style="width:100%;background:#FF9800"></div></div><span class="bar-t" id="hunger-text">100%</span></div>
      </div>
      <div id="xp-bar-container" style="margin-top:3px;">
        <div id="xp-bar" style="height:4px;background:#334;border-radius:2px;">
          <div id="xp-fill" style="height:100%;width:0%;background:linear-gradient(90deg,#4488FF,#88CCFF);border-radius:2px;transition:width 0.2s;"></div>
        </div>
        <div id="xp-text" style="font-size:10px;color:#6688AA;">Lv1 Â· 0/20 XP</div>
      </div>
      <div id="quest-text" style="font-family:monospace;font-size:11px;color:#FFD700;text-shadow:0 0 3px #000,0 0 3px #000;margin-top:2px;max-width:220px;"></div>
      <div id="act-text" style="font-family:monospace;font-size:12px;color:#FFDD88;text-shadow:0 0 3px #000;margin-top:2px;font-weight:bold;">Act 1 Â· 00:00</div>
      <div id="next-event-text" style="font-family:monospace;font-size:11px;color:#FFFFFF;text-shadow:0 0 3px #000;margin-top:1px;background:rgba(0,0,0,0.5);padding:2px 6px;border-radius:4px;display:none;"></div>
      <div id="class-hud" style="font-family:monospace;font-size:12px;color:#FFFFFF;text-shadow:0 0 3px #000;margin-top:3px;display:none;">
        <span id="class-name-text"></span>
        <span id="class-skill-cd" style="margin-left:6px;display:inline-block;width:28px;height:28px;border-radius:50%;background:rgba(0,0,0,0.6);border:2px solid #888;text-align:center;line-height:28px;font-size:12px;vertical-align:middle;"></span>
      </div>
      <div id="zone-indicator" style="font-family:monospace;font-size:11px;color:#88CCFF;text-shadow:0 0 3px #000;margin-top:1px;">ğŸ  ì•ˆì „</div>
      <div id="buff-text" style="font-family:monospace;font-size:10px;color:#FF8844;text-shadow:0 0 3px #000;display:none;">ğŸ”¥ í™”ë• ë²„í”„</div>
    </div>

    <div id="bottom-buttons">
      <button id="btn-build" ontouchstart="">ğŸ”¥ê±´ì„¤</button>
      <button id="btn-craft" ontouchstart="">ğŸ”¨ì œì‘</button>
      <button id="btn-hire" ontouchstart="">ğŸ‘¥ê³ ìš©</button>
      <button id="btn-inv" ontouchstart="">ğŸ’ì¸ë²¤</button>
      <button id="btn-eat" ontouchstart="">ğŸ¥©ë¨¹ê¸°</button>
      <button id="btn-sound" ontouchstart="">ğŸ”Š</button>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
<script>
var GV="stable-leveldesign-20260221";if(localStorage.getItem('gv')!==GV){localStorage.clear();sessionStorage.clear();localStorage.setItem('gv',GV);}
if('serviceWorker' in navigator)navigator.serviceWorker.getRegistrations().then(function(r){r.forEach(function(g){g.unregister();});});
if('caches' in window)caches.keys().then(function(n){n.forEach(function(k){caches.delete(k);});});
</script>
<!-- â•â•â• Modular Architecture (refactored from monolithic game.js) â•â•â• -->
<!-- Data (pure definitions, no logic) -->
<script src="src/data/upgrades.js?v=20260221-final"></script>
<script src="src/data/classes.js?v=20260221-final"></script>
<script src="src/data/difficulty.js?v=20260221-final"></script>
<script src="src/data/levels.js?v=20260221-final"></script>
<script src="src/data/blizzards.js?v=20260221-final"></script>
<script src="src/data/synergies.js?v=20260221-final"></script>
<script src="src/data/equipment.js?v=20260221-final"></script>
<script src="src/data/achievements.js?v=20260221-final"></script>
<script src="src/data/skins.js?v=20260221-final"></script>
<script src="src/data/world.js?v=20260221-final"></script>
<!-- Utils -->
<script src="src/utils/helpers.js?v=20260221-final"></script>
<!-- Systems -->
<script src="src/systems/AudioSystem.js?v=20260221-final"></script>
<script src="src/systems/SaveSystem.js?v=20260221-final"></script>
<script src="src/systems/MetaSystem.js?v=20260221-final"></script>
<script src="src/systems/SynergySystem.js?v=20260221-final"></script>
<script src="src/systems/RecordSystem.js?v=20260221-final"></script>
<script src="src/systems/ScoreSystem.js?v=20260221-final"></script>
<script src="src/systems/SkinSystem.js?v=20260221-final"></script>
<script src="src/systems/EquipmentSystem.js?v=20260221-final"></script>
<script src="src/systems/RunHistorySystem.js?v=20260221-final"></script>
<script src="src/systems/UpgradeSystem.js?v=20260221-final"></script>
<!-- Scenes -->
<script src="src/scenes/TitleScene.js?v=20260221-final"></script>
<script src="src/scenes/BootScene.js?v=20260221-final"></script>
<script src="src/scenes/GameScene.js?v=20260222-rabbitbypass"></script>
<!-- Main (Phaser config) -->
<script src="src/main.js?v=20260221-final"></script>
</body>
</html>
